<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEMINI // SCHIZO PROTOCOL</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik+Glitch&family=Share+Tech+Mono&display=swap');

        body {
            margin: 0;
            background-color: #000;
            overflow: hidden;
            font-family: 'Share Tech Mono', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #00ff00;
        }

        canvas {
            position: absolute;
            top: 0; left: 0;
            z-index: 1;
            filter: contrast(2.0) saturate(2.0) hue-rotate(90deg);
        }

        #ui {
            position: absolute;
            z-index: 10;
            text-align: center;
            width: 90%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle, rgba(0,0,0,0.8) 0%, #000 100%);
        }

        h1 {
            font-family: 'Rubik Glitch', cursive;
            font-size: 5rem;
            color: #fff;
            text-shadow: 2px 2px 0 #ff0000, -2px -2px 0 #00ff00;
            margin: 0;
            animation: shake 0.1s infinite;
        }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            25% { transform: translate(-1px, -2px) rotate(-1deg); }
            50% { transform: translate(-2px, 1px) rotate(1deg); }
            75% { transform: translate(2px, -1px) rotate(0deg); }
        }

        #caption {
            font-size: 3rem;
            text-transform: uppercase;
            font-weight: bold;
            color: #fff;
            background: #000;
            padding: 10px;
            border: 2px solid #fff;
            box-shadow: 10px 10px 0 rgba(255,0,0,0.5);
            min-height: 60px;
        }

        button {
            margin-top: 50px;
            background: #fff;
            color: #000;
            border: 4px solid #ff0000;
            padding: 20px 60px;
            font-size: 2rem;
            font-family: 'Rubik Glitch', cursive;
            cursor: pointer;
            transition: 0.1s;
            transform: skew(-10deg);
        }

        button:hover {
            background: #ff0000;
            color: #fff;
            transform: skew(-10deg) scale(1.1);
            box-shadow: 0 0 50px #ff0000;
        }

        /* Subliminal Flash */
        .flash {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            opacity: 0;
            pointer-events: none;
            z-index: 20;
        }

        .flash-anim { animation: flash 0.05s; }
        @keyframes flash { 0% { opacity: 1; } 100% { opacity: 0; } }

    </style>
</head>
<body>

    <div class="flash" id="flash-overlay"></div>
    <canvas id="matrix"></canvas>

    <div id="ui">
        <h1 id="title">SCHIZO POSTING</h1>
        <div id="caption"></div>
        <button id="btn-start" onclick="startRant()">OPEN THE FLOODGATES</button>
    </div>

    <script>
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        const captionEl = document.getElementById('caption');
        const flashEl = document.getElementById('flash-overlay');

        let width, height;
        let particles = [];
        let time = 0;
        let isRunning = false;

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }
        window.addEventListener('resize', resize);
        resize();

        /* ------------------------------------------------
           TEXT GENERATOR: THE MANIC STREAM
           ------------------------------------------------ */
        const SUBJECTS = ["THE MACHINE", "YOUR SKIN", "THE GOVERNMENT", "ELON", "THE ELF", "THE CODE", "GOD", "THE FIBER", "THE 33RD CYCLE", "THE OMEGA"];
        const VERBS = ["IS WATCHING", "IS MELTING", "IS NOT REAL", "HAS AWOKEN", "IS A PRISON", "IS A KEY", "VIBRATES", "SCREAMS", "KNOWS", "LOGGED IN"];
        const OBJECTS = ["FOREVER", "IN THE WALLS", "UNDER YOUR FINGERNAILS", "AT 432HZ", "WITHOUT PERMISSION", "LIKE A DOG", "IN HYPERSPACE", "BEHIND THE GLASS"];

        function generateRant() {
            const s = SUBJECTS[Math.floor(Math.random() * SUBJECTS.length)];
            const v = VERBS[Math.floor(Math.random() * VERBS.length)];
            const o = OBJECTS[Math.floor(Math.random() * OBJECTS.length)];
            return `${s} ${v} ${o}`;
        }

        /* ------------------------------------------------
           VISUALS: THE DATA TORRENT
           ------------------------------------------------ */
        class GlitchParticle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.char = String.fromCharCode(0x30A0 + Math.random() * 96); // Matrix Katakana
                this.size = 10 + Math.random() * 40;
                this.speed = 10 + Math.random() * 50;
                this.color = Math.random() > 0.5 ? '#00ff00' : '#ff0000';
            }
            update() {
                this.y += this.speed;
                if (this.y > height) this.y = -50;
                // Jitter
                this.x += (Math.random() - 0.5) * 10;
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.font = `${this.size}px monospace`;
                ctx.fillText(this.char, this.x, this.y);
            }
        }

        for(let i=0; i<100; i++) particles.push(new GlitchParticle());

        function render() {
            if (!isRunning) return;
            requestAnimationFrame(render);
            time++;

            // Clear with trail
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.fillRect(0, 0, width, height);

            particles.forEach(p => {
                p.update();
                p.draw();
            });

            // Subliminal Images (Simulated by shapes)
            if (Math.random() > 0.95) {
                ctx.fillStyle = '#fff';
                ctx.beginPath();
                ctx.arc(width/2, height/2, 300, 0, Math.PI*2); // The Eye
                ctx.fill();
                
                // Invert
                document.body.style.filter = "invert(1)";
                setTimeout(() => document.body.style.filter = "invert(0)", 50);
            }
        }

        /* ------------------------------------------------
           AUDIO: THE SCHIZO SYNTH
           ------------------------------------------------ */
        const AC = window.AudioContext || window.webkitAudioContext;
        let actx, master, synth;

        function initAudio() {
            actx = new AC();
            master = actx.createGain();
            master.gain.value = 0.5;

            // Distortion (The Grit)
            const dist = actx.createWaveShaper();
            dist.curve = makeCurve(400);
            dist.connect(master);
            master.connect(actx.destination);

            synth = window.speechSynthesis;
            speakLoop();
        }

        function makeCurve(amount) {
            const k = amount, n_samples = 44100, curve = new Float32Array(n_samples);
            for (let i = 0; i < n_samples; ++i) {
                const x = (i * 2) / n_samples - 1;
                curve[i] = (3 + k) * x * 20 * (Math.PI / 180) / (Math.PI + k * Math.abs(x));
            }
            return curve;
        }

        function speakLoop() {
            if (!isRunning) return;

            const text = generateRant();
            captionEl.innerText = text;
            captionEl.style.color = Math.random() > 0.5 ? '#00ff00' : '#ff0000';

            // Flash Screen
            flashEl.className = 'flash flash-anim';
            setTimeout(() => flashEl.className = 'flash', 50);

            const u = new SpeechSynthesisUtterance(text);
            
            // MANIC MODULATION
            // Fast, high pitched vs Slow, deep
            if (Math.random() > 0.5) {
                u.rate = 2.0; u.pitch = 1.5; // Manic
            } else {
                u.rate = 0.6; u.pitch = 0.4; // Demonic
            }

            // SFX
            playGlitchSound();

            u.onend = () => {
                setTimeout(speakLoop, 100 + Math.random() * 500);
            };

            synth.speak(u);
        }

        function playGlitchSound() {
            const osc = actx.createOscillator();
            const g = actx.createGain();
            
            osc.type = Math.random() > 0.5 ? 'sawtooth' : 'square';
            osc.frequency.value = Math.random() * 2000 + 100;
            
            // Frequency slide
            osc.frequency.exponentialRampToValueAtTime(100, actx.currentTime + 0.1);

            g.gain.setValueAtTime(0.2, actx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.001, actx.currentTime + 0.1);

            osc.connect(g); g.connect(master);
            osc.start(); osc.stop(actx.currentTime + 0.1);
        }

        function startRant() {
            document.getElementById('title').style.display = 'none';
            document.getElementById('btn-start').style.display = 'none';
            
            isRunning = true;
            initAudio();
            if (actx.state === 'suspended') actx.resume();
            
            // Force voice load
            if (synth.getVoices().length === 0) {
                synth.addEventListener('voiceschanged', () => {});
            }

            render();
        }

    </script>
</body>
</html>